{"ast":null,"code":"var _jsxFileName = \"/Users/ishara/cleandrive-client/src/App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { supabase } from './supabaseClient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getQueryParam(param) {\n  return new URLSearchParams(window.location.search).get(param);\n}\nexport default function App() {\n  _s();\n  const [visitData, setVisitData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const visitId = getQueryParam('id');\n  useEffect(() => {\n    if (!visitId) return;\n    const fetchVisitData = async () => {\n      const {\n        data,\n        error\n      } = await supabase.from('vehicle_visits').select(`\n          id,\n          status,\n          estimated_end,\n          vehicle_id ( license_plate ),\n          service_id ( name ),\n          payments ( amount, paid_at )\n        `).eq('id', visitId).single();\n      if (!error) setVisitData(data);\n      setLoading(false);\n    };\n    fetchVisitData();\n  }, [visitId]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 23\n  }, this);\n  if (!visitData) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: \"Visit not found.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 26\n  }, this);\n  const {\n    vehicle_id,\n    service_id,\n    status,\n    estimated_end,\n    payments\n  } = visitData;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-2\",\n      children: \"CleanDrive - Car Status\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-lg mb-2\",\n      children: [\"\\uD83D\\uDE97 Plate: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: vehicle_id.license_plate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 45\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-1\",\n      children: [\"\\uD83E\\uDDFC Service: \", service_id.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-1\",\n      children: [\"\\uD83D\\uDCCD Status: \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"capitalize font-semibold\",\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 38\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), estimated_end && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-1\",\n      children: [\"\\u23F1 Estimated Completion: \", new Date(estimated_end).toLocaleTimeString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), payments && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uD83D\\uDCB3 Amount Due: LKR \", payments.amount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), payments.paid_at ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-green-600 font-bold\",\n        children: \"\\u2705 Paid\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mt-2 bg-blue-600 text-white px-4 py-2 rounded\",\n        children: \"Pay Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"/F1W/Ch2FV4lQCap8sXs9396Jtk=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","supabase","jsxDEV","_jsxDEV","getQueryParam","param","URLSearchParams","window","location","search","get","App","_s","visitData","setVisitData","loading","setLoading","visitId","fetchVisitData","data","error","from","select","eq","single","className","children","fileName","_jsxFileName","lineNumber","columnNumber","vehicle_id","service_id","status","estimated_end","payments","license_plate","name","Date","toLocaleTimeString","amount","paid_at","_c","$RefreshReg$"],"sources":["/Users/ishara/cleandrive-client/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { supabase } from './supabaseClient';\n\nfunction getQueryParam(param) {\n  return new URLSearchParams(window.location.search).get(param);\n}\n\nexport default function App() {\n  const [visitData, setVisitData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const visitId = getQueryParam('id');\n\n  useEffect(() => {\n    if (!visitId) return;\n\n    const fetchVisitData = async () => {\n      const { data, error } = await supabase\n        .from('vehicle_visits')\n        .select(`\n          id,\n          status,\n          estimated_end,\n          vehicle_id ( license_plate ),\n          service_id ( name ),\n          payments ( amount, paid_at )\n        `)\n        .eq('id', visitId)\n        .single();\n\n      if (!error) setVisitData(data);\n      setLoading(false);\n    };\n\n    fetchVisitData();\n  }, [visitId]);\n\n  if (loading) return <div className=\"p-4\">Loading...</div>;\n\n  if (!visitData) return <div className=\"p-4\">Visit not found.</div>;\n\n  const { vehicle_id, service_id, status, estimated_end, payments } = visitData;\n\n  return (\n    <div className=\"p-4 text-center\">\n      <h1 className=\"text-2xl font-bold mb-2\">CleanDrive - Car Status</h1>\n      <p className=\"text-lg mb-2\">üöó Plate: <strong>{vehicle_id.license_plate}</strong></p>\n      <p className=\"mb-1\">üßº Service: {service_id.name}</p>\n      <p className=\"mb-1\">üìç Status: <span className=\"capitalize font-semibold\">{status}</span></p>\n      {estimated_end && (\n        <p className=\"mb-1\">‚è± Estimated Completion: {new Date(estimated_end).toLocaleTimeString()}</p>\n      )}\n      {payments && (\n        <div className=\"mt-4\">\n          <p>üí≥ Amount Due: LKR {payments.amount}</p>\n          {payments.paid_at ? (\n            <p className=\"text-green-600 font-bold\">‚úÖ Paid</p>\n          ) : (\n            <button className=\"mt-2 bg-blue-600 text-white px-4 py-2 rounded\">Pay Now</button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}